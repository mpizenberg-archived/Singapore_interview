<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Superpixels segmentation - Documentation</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Documentation</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
            <li class="toctree-l1 ">
                <a class="" href="../install">Installation</a>
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../extraction">Frame extraction</a>
            </li>
        

    
        
            <li class="toctree-l1 current">
                <a class="current" href=".">Superpixels segmentation</a>
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../box">Boundary box</a>
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../doc">Building this documentation</a>
            </li>
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href=".."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    <li>Superpixels segmentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/mpizenberg/Singapore_interview" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="seeds-superpixels-algorithm">SEEDS Superpixels algorithm</h1>
<p>I will use the SEEDS superpixels algorithm (<a href="http://docs.opencv.org/trunk/modules/ximgproc/doc/superpixels.html">http://docs.opencv.org/trunk/modules/ximgproc/doc/superpixels.html</a>) to segment the cat from the background.</p>
<p>You can find a lot more information on the algorithm here :
<a href="http://www.mvdblive.org/seeds/">http://www.mvdblive.org/seeds/</a></p>
<h2 id="pre-segmentation-using-seeds">Pre-segmentation using SEEDS</h2>
<p>By using SEEDS superpixels the simplest way on the images,
we obtain segmentation like that :</p>
<p><img alt="Screenshot" src="../img/superpixels_basic.png" /></p>
<p>It is quite difficult then to identify the superpixels corresponding or not to the cat.
Furthermore we can notice that sometimes superpixels does not correspond well to the cat.</p>
<p>Reading the paper <a href="http://arxiv.org/pdf/1309.3848v1.pdf">"<em>SEEDS: Superpixels Extracted via Energy-Driven Sampling</em>"</a>,
we learn that SEEDS algorithm is based on histograms to performs Pixel-level and Block-level movements
from an initial grid superpixels configuration.
Thus we theoretically have access to histograms of each superpixel,
wich may help us segment the cat.
But in practice, the interface given with OpenCV is reduced to that :</p>
<pre><code>class CV_EXPORTS_W SuperpixelSEEDS : public Algorithm
{
    /** @brief Calculates the superpixel segmentation on a given image stored in SuperpixelSEEDS object.*/
    CV_WRAP virtual int getNumberOfSuperpixels() = 0;

    /** @brief Calculates the superpixel segmentation on a given image with the initialized parameters in the SuperpixelSEEDS object.*/
    CV_WRAP virtual void iterate(InputArray img, int num_iterations=4) = 0;

    /** @brief Returns the segmentation labeling of the image.*/
    CV_WRAP virtual void getLabels(OutputArray labels_out) = 0;

    /** @brief Returns the mask of the superpixel segmentation stored in SuperpixelSEEDS object.*/
    CV_WRAP virtual void getLabelContourMask(OutputArray image, bool thick_line = false) = 0;
};

/** @brief Initializes a SuperpixelSEEDS object.*/
CV_EXPORTS_W Ptr&lt;SuperpixelSEEDS&gt; createSuperpixelSEEDS(
        int image_width, int image_height, int image_channels,
        int num_superpixels, int num_levels, int prior = 2,
        int histogram_bins=5, bool double_step = false);
</code></pre>

<p>We have two ways to deal with it :</p>
<ol>
<li>Keep that segmentation and then work with the labels map
(reevaluate manually the parameters that interest us)</li>
<li>Use the original SEEDS algorithm (C++) available <a href="http://www.mvdblive.org/seeds/">here</a>
and make it work with OpenCV (so we could use its full potential)</li>
</ol>
<p>Since I do not have the time make a complete interface between
the original SEEDS algorithm and OpenCV, I will try the first option,
even if I am aware that it will bring down the performances.</p>
<h2 id="segmentation-of-the-cat">Segmentation of the cat</h2>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../box" class="btn btn-neutral float-right" title="Boundary box"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../extraction" class="btn btn-neutral" title="Frame extraction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href="../extraction" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../box" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>